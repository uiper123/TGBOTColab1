# –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–´–ï GPU –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Tesla T4

## üöÄ –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û–ì–û –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è VRAM:

### 1. –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–´–ô –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º
- ‚úÖ –ù–∞—Ä–µ–∑–∫–∞ —á–∞–Ω–∫–æ–≤: **10 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤** (–±—ã–ª–æ 3)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–ø–æ–≤: **12 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤** (–±—ã–ª–æ 4) 
- ‚úÖ FFmpeg –ø—Ä–æ—Ü–µ—Å—Å—ã: **8 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤** (–±—ã–ª–æ 3)

### 2. –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–´–ï –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ NVENC
- ‚úÖ `preset='p1'` - —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –ø—Ä–µ—Å–µ—Ç (–º–∞–∫—Å–∏–º—É–º GPU –Ω–∞–≥—Ä—É–∑–∫–∏)
- ‚úÖ `cq=18` - –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ (–±–æ–ª—å—à–µ GPU —Ä–∞–±–æ—Ç—ã)
- ‚úÖ `b:v='15M'` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∏—Ç—Ä–µ–π—Ç
- ‚úÖ `maxrate='25M'` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∏—Ç—Ä–µ–π—Ç
- ‚úÖ `bufsize='50M'` - –û–ì–†–û–ú–ù–´–ô –±—É—Ñ–µ—Ä (–º–∞–∫—Å–∏–º—É–º VRAM)
- ‚úÖ `surfaces='64'` - –º–∞–∫—Å–∏–º—É–º –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π GPU
- ‚úÖ `rc-lookahead='64'` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π lookahead
- ‚úÖ `multipass='fullres'` - –¥–≤—É—Ö–ø—Ä–æ—Ö–æ–¥–Ω–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ `spatial-aq='1'` - –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è
- ‚úÖ `temporal-aq='1'` - –≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—è

### 3. –ü–æ–ª–Ω—ã–π GPU –ø–∞–π–ø–ª–∞–π–Ω
- ‚úÖ GPU –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ: `-hwaccel cuda -hwaccel_output_format cuda`
- ‚úÖ GPU –æ–±—Ä–∞–±–æ—Ç–∫–∞: –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ GPU –º–µ–∂–¥—É –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
- ‚úÖ GPU –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ: –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ NVENC

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

**–†–ê–ù–¨–®–ï:** 1.8 –ì–ë VRAM, 3 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞
**–¢–ï–ü–ï–†–¨:** 12-14 –ì–ë VRAM, 30+ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GPU –ø–∞–º—è—Ç–∏:
- **–î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ:** ~2-3 –ì–ë
- **–ë—É—Ñ–µ—Ä—ã (50M x 12 –∫–ª–∏–ø–æ–≤):** ~6 –ì–ë  
- **–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ (64 x 12 –∫–ª–∏–ø–æ–≤):** ~4-5 –ì–ë
- **Lookahead –±—É—Ñ–µ—Ä—ã:** ~2-3 –ì–ë
- **–ò–¢–û–ì–û:** ~12-14 –ì–ë –∏–∑ 15 –ì–ë Tesla T4

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ GPU –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
watch -n 0.5 nvidia-smi

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö
nvidia-smi pmon -i 0 -s um -c 100
```

–¢–µ–ø–µ—Ä—å –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å **12-14 –ì–ë** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è VRAM –≤–º–µ—Å—Ç–æ 1.8 –ì–ë!